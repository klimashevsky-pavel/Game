!function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n(2);let r=function(e,t=!1,n=!1,r,o,a=64,s=128){this.image=null,this.pattern=null,e?(this.image=new Image,this.image.src=e):console.log("Sprite was not created"),this.draw=function(e,c,u,d){t?(i.a.context.fillStyle=i.a.context.createPattern(this.image,"repeat"),i.a.context.fillRect(e,c,u,d)):n?i.a.context.drawImage(this.image,r,o,a,s,e,c,u,d):u&&d?i.a.context.drawImage(this.image,e,c,u,d):i.a.context.drawImage(this.image,e,c,this.image.width,this.image.height)}}},function(e,t,n){"use strict";function i(){function e(){if(b.value)return y=0,void(p=0);p++,u.a.context.clearRect(0,0,800,800);for(let e=0;e<16;e++){let t=64*e-g-64;l.texture.draw(t,128,64,64),l.texture.draw(t,256,64,64),l.texture.draw(t,384,64,64),h.texture.draw(t,192,64,64),h.texture.draw(t,320,64,64),h.texture.draw(t,448,64,64)}switch(j){case M.FROM_FIRST_TO_SECOND:P=!1,(D+=1.5*v)>288&&(D=288,j=0,P=!0);break;case M.FROM_SECOND_TO_THIRD:P=!1,(D+=1.5*v)>416&&(D=416,j=0,P=!0);break;case M.FROM_SECOND_TO_FIRST:P=!1,(D-=1.5*v)<160&&(D=160,j=0,P=!0);break;case M.FROM_THIRD_TO_SECOND:P=!1,(D-=1.5*v)<288&&(D=288,j=0,P=!0)}y+=v,document.getElementsByClassName("score-number")[0].innerText=Math.round(y/10),Object(r.a)(y,n,w,i,O,_,D,t,x,m),5===++C&&(w++,_++,x++,C=0),8===x&&(x=0),8===_&&(_=0),10===w&&(w=0),(g+=1)>=64&&(g=0),(v=2+p/500)>15&&(v=15),requestAnimationFrame(e)}let t=[],n=[],i=[];for(let e=0;e<6;e++)n.push(new a.a),t.push(new s.a),i.push(new d.a);let l=new o.a(!1),h=new o.a(!0),O=new c.a,m=new f.a,p=0,P=!0,g=0,w=0,x=0,y=0,C=0,_=0,v=2,j=0;const M={FROM_FIRST_TO_SECOND:"FROM_FIRST_TO_SECOND",FROM_SECOND_TO_THIRD:"FROM_SECOND_TO_THIRD",FROM_SECOND_TO_FIRST:"FROM_SECOND_TO_FIRST",FROM_THIRD_TO_SECOND:"FROM_THIRD_TO_SECOND"};let D=160;e(),document.addEventListener("keydown",e=>{if(P){const t=e.keyCode;83===t&&160===D&&(j=M.FROM_FIRST_TO_SECOND),83===t&&288===D&&(j=M.FROM_SECOND_TO_THIRD),87===t&&288===D&&(j=M.FROM_SECOND_TO_FIRST),87===t&&416===D&&(j=M.FROM_THIRD_TO_SECOND)}},!1)}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"downloaded",function(){return h}),n.d(t,"end",function(){return b});var r=n(3),o=n(12),a=n(13),s=n(14),c=n(15),u=n(2),d=n(16),l=n(17),f=n(18);let h={value:!0},b={value:!1};Object(l.a)(l.b),u.a.create(),u.a.context.fillStyle="#000000",u.a.context.fillRect(0,0,800,800),document.getElementById("start-button").addEventListener("click",function(){if(h.value){document.getElementsByClassName("menu")[0].style.display="none",i()}}),document.getElementById("restart-button").addEventListener("click",function(){if(h.value){document.getElementsByClassName("try-again")[0].style.display="none",function(e){r.a.interval=1,r.a.immortalityAvailable=!1,e.firstPeriodY=[],e.firstPeriodConfig=[],e.firstPeriodDoubleLine=!0,e.secondPeriodY=[],e.secondPeriodConfig=[],e.secondPeriodDoubleLine=!0,e.thirdPeriodY=[],e.thirdPeriodConfig=[],e.thirdPeriodDoubleLine=!0}(r.a),b.value=!1,i()}})},function(e,t,n){"use strict";n.d(t,"a",function(){return i});let i={canvas:null,context:null,create:function(){return this.canvas=document.getElementById("canvas"),this.context=this.canvas.getContext("2d"),this.context}}},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var i=n(4),r=n(5),o=n(7),a=n(9),s=n(10),c=n(11);let u=function(e,t,n,d,l,f,h,b,O,m){u.interval||(u.interval=1);let p=[],P=[];const g=[150,278,406];let w=0,x=0;if(l.x=20,l.y=h,l.sprites[f].draw(20,h,44,64),e%1200<20&&e%1200>0)if(u.immortalityAvailable=!1,w=Math.floor(3*Math.random())+1,x=Object(i.a)(w),u.firstPeriodY=[g[w-1]],u.firstPeriodY.push(g[x-1]),u.thirdPeriodDoubleLine){u.firstPeriodConfig=Object(i.b)(1),u.firstPeriodDoubleLine=!1;2===Math.floor(3*Math.random())+1&&e-u.interval>5e3&&(u.immortalityAvailable=!0)}else if(Object(i.b)(1)[0])u.firstPeriodConfig=Object(i.b)(2),u.firstPeriodDoubleLine=!0;else{u.firstPeriodConfig=Object(i.b)(1),u.firstPeriodDoubleLine=!1;2===Math.floor(3*Math.random())+1&&e-u.interval>5e3&&(u.immortalityAvailable=!0)}e%1200-400<20&&e%1200-400>0&&(w=Math.floor(3*Math.random())+1,x=Object(i.a)(w),u.secondPeriodY=[g[w-1]],u.secondPeriodY.push(g[x-1]),u.firstPeriodDoubleLine?(u.secondPeriodConfig=Object(i.b)(1),u.secondPeriodDoubleLine=!1):Object(i.b)(1)[0]?(u.secondPeriodConfig=Object(i.b)(2),u.secondPeriodDoubleLine=!0):(u.secondPeriodConfig=Object(i.b)(1),u.secondPeriodDoubleLine=!1)),e%1200-800<20&&e%1200-800>0&&(w=Math.floor(3*Math.random())+1,x=Object(i.a)(w),u.thirdPeriodY=[g[w-1]],u.thirdPeriodY.push(g[x-1]),u.secondPeriodDoubleLine?(u.thirdPeriodConfig=Object(i.b)(1),u.thirdPeriodDoubleLine=!1):Object(i.b)(1)[0]?(u.thirdPeriodConfig=Object(i.b)(2),u.thirdPeriodDoubleLine=!0):(u.thirdPeriodConfig=Object(i.b)(1),u.thirdPeriodDoubleLine=!1)),u.firstPeriodConfig&&(u.firstPeriodDoubleLine?(u.firstPeriodConfig[0]?P.push(Object(o.a)(e%1200,u.firstPeriodY[0],t[0],n,d[0])):p.push(Object(a.a)(1050-e%1200,u.firstPeriodY[0],b[0],O)),u.firstPeriodConfig[1]?P.push(Object(o.a)(e%1200,u.firstPeriodY[1],t[1],n,d[1])):p.push(Object(a.a)(1050-e%1200,u.firstPeriodY[1],b[1],O))):(u.firstPeriodConfig[0]?P.push(Object(o.a)(e%1200,u.firstPeriodY[0],t[0],n,d[0])):p.push(Object(a.a)(1050-e%1200,u.firstPeriodY[0],b[0],O)),u.immortalityAvailable&&(Object(s.a)(1050-e%1200,u.firstPeriodY[1]+22,m),e%1200>25&&(u.interval=e)))),u.secondPeriodConfig&&(u.secondPeriodDoubleLine?(u.secondPeriodConfig[0]?P.push(Object(o.a)((e-400)%1200,u.secondPeriodY[0],t[2],n,d[2])):p.push(Object(a.a)(1050-(e-400)%1200,u.secondPeriodY[0],b[2],O)),u.secondPeriodConfig[1]?P.push(Object(o.a)((e-400)%1200,u.secondPeriodY[1],t[3],n,d[3])):p.push(Object(a.a)(1050-(e-400)%1200,u.secondPeriodY[1],b[3],O))):u.secondPeriodConfig[0]?P.push(Object(o.a)((e-400)%1200,u.secondPeriodY[0],t[2],n,d[2])):p.push(Object(a.a)(1050-(e-400)%1200,u.secondPeriodY[0],b[2],O))),u.thirdPeriodConfig&&(u.thirdPeriodDoubleLine?(u.thirdPeriodConfig[0]?P.push(Object(o.a)((e-800)%1200,u.thirdPeriodY[0],t[4],n,d[4])):p.push(Object(a.a)(1050-(e-800)%1200,u.thirdPeriodY[0],b[4],O)),u.thirdPeriodConfig[1]?P.push(Object(o.a)((e-800)%1200,u.thirdPeriodY[1],t[5],n,d[5])):p.push(Object(a.a)(1050-(e-800)%1200,u.thirdPeriodY[1],b[5],O))):u.thirdPeriodConfig[0]?P.push(Object(o.a)((e-800)%1200,u.thirdPeriodY[0],t[4],n,d[4])):p.push(Object(a.a)(1050-(e-800)%1200,u.thirdPeriodY[0],b[4],O))),Object(c.a)(l,m,u),l.mortal&&Object(r.a)(l,P,d,p,e)}},function(e,t,n){"use strict";t.b=function(e){let t=[];for(let n=0;n<e;n++)t.push(Math.floor(2*Math.random())+1-1);return t},t.a=function(e){let t=Math.floor(3*Math.random())+1;for(;t===e;)t=Math.floor(3*Math.random())+1;return t}},function(e,t,n){"use strict";t.a=function(e,t,n,r,o){let a=!1;t.forEach(function(t){t.x&&t.x-e.x<32&&t.x-e.x>-20&&Math.abs(t.y-e.y+10)<32&&(a=!0)}),r.forEach(function(t){t.x&&t.x-e.x<32&&t.x-e.x>-20&&Math.abs(t.y-e.y+10)<32&&(a=!0)}),n.forEach(function(t){t.x&&t.x-e.x<32&&t.x-e.x>-20&&Math.abs(t.y-e.y-6)<24&&(a=!0)}),a&&Object(i.a)(o)};var i=n(6)},function(e,t,n){"use strict";t.a=function(e){i.end.value=!0;let t=document.getElementsByClassName("final-score")[0];document.getElementsByClassName("try-again")[0].style.display="block",t.innerText=`${Math.round(e/10)}`};var i=n(1)},function(e,t,n){"use strict";t.a=function(e,t,n,r,o){let a=t,s=150;if(e<0)return;e<300?(n.throwIndexArray=[11,11,11,11,11,12,12,12,12,12,13,13,13,13,13,14,14,14,14,14,15,15,15,15,15,16,16,16,16,16],r=10,e=Math.floor(e/2),s=0):0!==n.throwIndexArray.length&&(r=n.throwIndexArray.shift());let c=900-e+s;return 0===n.throwIndexArray.length&&Object(i.a)(c,a+16,o,c),n.x=c,n.y=a,n.sprites[r].draw(c,a,54,74),n};var i=n(8)},function(e,t,n){"use strict";t.a=function(e,t,n,i){n.startPoint&&-1e3!==n.startPoint||(n.startPoint=i),n.x=2*e-n.startPoint,n.y=t,n.sprite.draw(2*e-n.startPoint,t,50,50),e<-100&&(n.startPoint=-1e3)}},function(e,t,n){"use strict";t.a=function(e,t,n,i){return n.x=e,n.y=t,n.sprites[i].draw(e,t,74,74),n}},function(e,t,n){"use strict";t.a=function(e,t,n){n.x=e,n.y=t,n.sprite.draw(e,t,32,32)}},function(e,t,n){"use strict";t.a=function(e,t,n){if(t.x-e.x<32&&t.x-e.x>-20&&Math.abs(t.y-e.y+10)<32){let i=4;document.getElementsByClassName("title")[0].innerText="IMMORTAL! : 4 sec";let r=setInterval(function(){i--,document.getElementsByClassName("title")[0].innerText="IMMORTAL! : "+i+" sec",1===i&&clearInterval(r)},1e3);t.x=-1e3,t.y=-1e3,e.mortal=!1,n.immortalityAvailable=!1,setTimeout(function(){document.getElementsByClassName("title")[0].innerText="VAIN ESCAPE",e.mortal=!0},4e3)}}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n(0);let r=function(e){this.texture=e?new i.a("../src/pictures/path2rev.jpg",!1):new i.a("../src/pictures/path2.jpg",!1)}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n(0);let r="../src/pictures/titan.png",o=function(){this.x=-1e3,this.y=-1e3,this.sprites=[new i.a(r,!1,!0,1250,150),new i.a(r,!1,!0,1188,150),new i.a(r,!1,!0,1116,150),new i.a(r,!1,!0,1050,150),new i.a(r,!1,!0,985,150),new i.a(r,!1,!0,925,150),new i.a(r,!1,!0,850,150),new i.a(r,!1,!0,770,150),new i.a(r,!1,!0,680,150),new i.a(r,!1,!0,600,150),new i.a(r,!1,!0,1250,0),new i.a(r,!1,!0,530,310),new i.a(r,!1,!0,428,310),new i.a(r,!1,!0,337,310),new i.a(r,!1,!0,249,310),new i.a(r,!1,!0,161,310),new i.a(r,!1,!0,85,310)]}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n(0);let r="../src/pictures/Knight.png",o=function(){this.sprites=[new i.a(r,!1,!0,970,170,100),new i.a(r,!1,!0,868,170,100),new i.a(r,!1,!0,766,170,100),new i.a(r,!1,!0,664,170,100),new i.a(r,!1,!0,564,170,100),new i.a(r,!1,!0,466,170,100),new i.a(r,!1,!0,368,170,100),new i.a(r,!1,!0,268,170,100)]}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n(0);let r="../src/pictures/Peasant.png",o=function(){this.mortal=!0,this.x=-1e3,this.y=-1e3,this.sprites=[new i.a(r,!1,!0,200,100),new i.a(r,!1,!0,300,100),new i.a(r,!1,!0,400,100),new i.a(r,!1,!0,505,100),new i.a(r,!1,!0,610,100),new i.a(r,!1,!0,710,100),new i.a(r,!1,!0,5,215),new i.a(r,!1,!0,105,215)]}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n(0);let r=function(){this.x=-1e3,this.y=-1e3,this.sprite=new i.a("../src/pictures/titan.png",!1,!0,120,90,70,70)}},function(e,t,n){"use strict";n.d(t,"b",function(){return o}),t.a=function(e){let t=0,n=document.getElementsByClassName("percent")[0];for(let r=0;r<e.length;r++)e[r].onload=function(){t++,n.innerHTML=`${t/e.length*100}%`,t===e.length&&(i.downloaded.value=!0,document.getElementById("start-button").style.display="inline-block")}};var i=n(1);let r=["../src/pictures/path2.jpg","../src/pictures/path2rev.jpg","../src/pictures/Knight.png","../src/pictures/titan.png","../src/pictures/Peasant.png"];console.log(r);let o=[];r.forEach(function(e){let t=new Image;t.src=e,o.push(t)})},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n(0);let r=function(){this.x=-1e3,this.y=-1e3,this.sprite=new i.a("../src/pictures/immortality.png",!1,!0,960,600,80,85)}}]);